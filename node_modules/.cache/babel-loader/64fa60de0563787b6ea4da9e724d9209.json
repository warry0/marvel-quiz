{"ast":null,"code":"import _slicedToArray from\"/Users/dev/Desktop/marvel-quiz/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useContext,useEffect}from'react';import{FirebaseContext}from'../Firebase';import Logout from'../Logout';import Quiz from'../Quiz';import Loader from'../Loader/';var Welcome=function Welcome(props){var firebase=useContext(FirebaseContext);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),userSession=_useState2[0],setUserSession=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),userData=_useState4[0],setUserData=_useState4[1];useEffect(function(){var listener=firebase.auth.onAuthStateChanged(function(user){user?setUserSession(user):props.history.push('/');});if(!!userSession){firebase.user(userSession.uid).get().then(function(doc){if(doc&&doc.exists){var myData=doc.data();setUserData(myData);}}).catch(function(error){console.log(error);});}return function(){listener();};},[userSession,firebase,props.history]);return userSession===null?/*#__PURE__*/_jsx(Loader,{loadingMsg:\"Authentification ...\",styling:{textAlign:'center',color:'#FFFFFF'}}):/*#__PURE__*/_jsx(\"div\",{className:\"quiz-bg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Logout,{}),/*#__PURE__*/_jsx(Quiz,{userData:userData})]})});};export default Welcome;","map":{"version":3,"sources":["/Users/dev/Desktop/marvel-quiz/src/components/Welcome/index.js"],"names":["React","useState","useContext","useEffect","FirebaseContext","Logout","Quiz","Loader","Welcome","props","firebase","userSession","setUserSession","userData","setUserData","listener","auth","onAuthStateChanged","user","history","push","uid","get","then","doc","exists","myData","data","catch","error","console","log","textAlign","color"],"mappings":"6OAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,OAASC,eAAT,KAAgC,aAAhC,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,SAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,YAAnB,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAAC,KAAK,CAAI,CAErB,GAAMC,CAAAA,QAAQ,CAAGR,UAAU,CAACE,eAAD,CAA3B,CAFqB,cAIiBH,QAAQ,CAAC,IAAD,CAJzB,wCAIdU,WAJc,eAIDC,cAJC,8BAKWX,QAAQ,CAAC,EAAD,CALnB,yCAKdY,QALc,eAKJC,WALI,eAOrBX,SAAS,CAAC,UAAM,CAEZ,GAAIY,CAAAA,QAAQ,CAAGL,QAAQ,CAACM,IAAT,CAAcC,kBAAd,CAAiC,SAAAC,IAAI,CAAI,CACpDA,IAAI,CAAGN,cAAc,CAACM,IAAD,CAAjB,CAA0BT,KAAK,CAACU,OAAN,CAAcC,IAAd,CAAmB,GAAnB,CAA9B,CACH,CAFc,CAAf,CAIA,GAAI,CAAC,CAACT,WAAN,CAAmB,CACfD,QAAQ,CAACQ,IAAT,CAAcP,WAAW,CAACU,GAA1B,EACCC,GADD,GAECC,IAFD,CAEO,SAAAC,GAAG,CAAI,CACV,GAAIA,GAAG,EAAIA,GAAG,CAACC,MAAf,CAAuB,CACnB,GAAMC,CAAAA,MAAM,CAAGF,GAAG,CAACG,IAAJ,EAAf,CACAb,WAAW,CAACY,MAAD,CAAX,CACH,CACJ,CAPD,EAQCE,KARD,CAQQ,SAAAC,KAAK,CAAI,CACbC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACH,CAVD,EAWH,CAED,MAAO,WAAM,CACTd,QAAQ,GACX,CAFD,CAGH,CAvBQ,CAuBN,CAACJ,WAAD,CAAcD,QAAd,CAAwBD,KAAK,CAACU,OAA9B,CAvBM,CAAT,CAyBA,MAAOR,CAAAA,WAAW,GAAK,IAAhB,cACH,KAAC,MAAD,EACI,UAAU,CAAE,sBADhB,CAEI,OAAO,CAAE,CAACqB,SAAS,CAAE,QAAZ,CAAsBC,KAAK,CAAE,SAA7B,CAFb,EADG,cAMH,YAAK,SAAS,CAAC,SAAf,uBACI,aAAK,SAAS,CAAC,WAAf,wBACI,KAAC,MAAD,IADJ,cAEI,KAAC,IAAD,EAAM,QAAQ,CAAEpB,QAAhB,EAFJ,GADJ,EANJ,CAaH,CA7CD,CA+CA,cAAeL,CAAAA,OAAf","sourcesContent":["import React, { useState, useContext, useEffect } from 'react'\nimport { FirebaseContext } from '../Firebase'\nimport Logout from '../Logout'\nimport Quiz from '../Quiz'\nimport Loader from '../Loader/'\n\nconst Welcome = props => {\n\n    const firebase = useContext(FirebaseContext);\n\n    const [userSession, setUserSession] = useState(null);\n    const [userData, setUserData] = useState({});\n\n    useEffect(() => {\n        \n        let listener = firebase.auth.onAuthStateChanged(user => {\n            user ? setUserSession(user) : props.history.push('/');\n        })\n\n        if (!!userSession) {\n            firebase.user(userSession.uid)\n            .get()\n            .then( doc => {\n                if (doc && doc.exists) {\n                    const myData = doc.data();\n                    setUserData(myData)\n                }\n            })\n            .catch( error => {\n                console.log(error);\n            })\n        }\n\n        return () => {\n            listener()\n        };\n    }, [userSession, firebase, props.history])\n\n    return userSession === null ? (\n        <Loader \n            loadingMsg={\"Authentification ...\"}\n            styling={{textAlign: 'center', color: '#FFFFFF'}}\n        />\n    ) : (\n        <div className=\"quiz-bg\">\n            <div className=\"container\">\n                <Logout />\n                <Quiz userData={userData}/>\n            </div>\n        </div>\n    )\n}\n\nexport default Welcome\n"]},"metadata":{},"sourceType":"module"}