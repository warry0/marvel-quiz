{"ast":null,"code":"import _slicedToArray from\"/Users/dev/Desktop/marvel-quiz/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useContext}from\"react\";import{Link}from\"react-router-dom\";import{FirebaseContext}from\"../Firebase\";var ForgetPassword=function ForgetPassword(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var firebase=useContext(FirebaseContext);var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),success=_useState6[0],setSuccess=_useState6[1];var disabled=email===\"\";var handleSubmit=function handleSubmit(e){e.preventDefault();firebase.passwordReset(email).then(function(){setError(null);setSuccess(\"Consulter votre email: \".concat(email,\" pour changer votre mot de passe\"));setEmail(\"\");setTimeout(function(){props.history.push(\"/login\");},4000);}).catch(function(error){setError(error);setEmail(\"\");});};return/*#__PURE__*/_jsx(\"div\",{className:\"signUpLoginBox\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"slContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"formBoxLeftForget\"}),/*#__PURE__*/_jsx(\"div\",{className:\"formBoxRight\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formContent\",children:[success&&/*#__PURE__*/_jsx(\"span\",{style:{border:\"1px solid green\",background:\"green\",color:\"#ffffff\"},children:success}),error&&/*#__PURE__*/_jsx(\"span\",{children:error.message}),/*#__PURE__*/_jsx(\"h2\",{children:\"Mot de passe oubli\\xE9?\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inputBox\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setEmail(e.target.value);},value:email,type:\"email\",autoComplete:\"on\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"})]}),/*#__PURE__*/_jsx(\"button\",{disabled:disabled,children:\"R\\xE9cup\\xE9rer\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"linkContainer\",children:/*#__PURE__*/_jsx(Link,{className:\"simpleLink\",to:\"/login\",children:\"D\\xE9j\\xE0 inscrit? Connectez-vous.\"})})]})})]})});};export default ForgetPassword;","map":{"version":3,"sources":["/Users/dev/Desktop/marvel-quiz/src/components/ForgetPassword/index.js"],"names":["React","useState","useContext","Link","FirebaseContext","ForgetPassword","props","email","setEmail","firebase","error","setError","success","setSuccess","disabled","handleSubmit","e","preventDefault","passwordReset","then","setTimeout","history","push","catch","border","background","color","message","target","value"],"mappings":"6OAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,eAAT,KAAgC,aAAhC,CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAAW,eAENL,QAAQ,CAAC,EAAD,CAFF,wCAEzBM,KAFyB,eAElBC,QAFkB,eAGhC,GAAMC,CAAAA,QAAQ,CAAGP,UAAU,CAACE,eAAD,CAA3B,CAHgC,eAINH,QAAQ,CAAC,EAAD,CAJF,yCAIzBS,KAJyB,eAIlBC,QAJkB,8BAKDV,QAAQ,CAAC,IAAD,CALP,yCAKzBW,OALyB,eAKhBC,UALgB,eAOhC,GAAMC,CAAAA,QAAQ,CAAGP,KAAK,GAAK,EAA3B,CAEA,GAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GACAR,QAAQ,CACLS,aADH,CACiBX,KADjB,EAEGY,IAFH,CAEQ,UAAM,CACVR,QAAQ,CAAC,IAAD,CAAR,CACAE,UAAU,kCAA2BN,KAA3B,qCAAV,CACAC,QAAQ,CAAC,EAAD,CAAR,CACAY,UAAU,CAAC,UAAI,CACXd,KAAK,CAACe,OAAN,CAAcC,IAAd,CAAmB,QAAnB,EACH,CAFS,CAEP,IAFO,CAAV,CAID,CAVH,EAWGC,KAXH,CAWS,SAACb,KAAD,CAAW,CAChBC,QAAQ,CAACD,KAAD,CAAR,CACAF,QAAQ,CAAC,EAAD,CAAR,CAED,CAfH,EAgBD,CAlBD,CAoBE,mBACI,YAAK,SAAS,CAAC,gBAAf,uBACF,aAAK,SAAS,CAAC,aAAf,wBACE,YAAK,SAAS,CAAC,mBAAf,EADF,cAEE,YAAK,SAAS,CAAC,cAAf,uBACE,aAAK,SAAS,CAAC,aAAf,WACGI,OAAO,eAAI,aAAM,KAAK,CAAE,CACrBY,MAAM,CAAE,iBADa,CAErBC,UAAU,CAAE,OAFS,CAGrBC,KAAK,CAAE,SAHc,CAAb,UAIRd,OAJQ,EADd,CAMIF,KAAK,eAAI,sBAAOA,KAAK,CAACiB,OAAb,EANb,cAOE,+CAPF,cAQE,cAAM,QAAQ,CAAEZ,YAAhB,wBACE,aAAK,SAAS,CAAC,UAAf,wBACE,cACE,QAAQ,CAAE,kBAACC,CAAD,QAAOR,CAAAA,QAAQ,CAACQ,CAAC,CAACY,MAAF,CAASC,KAAV,CAAf,EADZ,CAEE,KAAK,CAAEtB,KAFT,CAGE,IAAI,CAAC,OAHP,CAIE,YAAY,CAAC,IAJf,CAKE,QAAQ,KALV,EADF,cAQE,cAAO,OAAO,CAAC,OAAf,mBARF,GADF,cAWE,eAAQ,QAAQ,CAAEO,QAAlB,6BAXF,GARF,cAsBE,YAAK,SAAS,CAAC,eAAf,uBACE,KAAC,IAAD,EAAM,SAAS,CAAC,YAAhB,CAA6B,EAAE,CAAC,QAAhC,iDADF,EAtBF,GADF,EAFF,GADE,EADJ,CAqCH,CAlED,CAoEA,cAAeT,CAAAA,cAAf","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FirebaseContext } from \"../Firebase\";\n\nconst ForgetPassword = (props) => {\n\n  const [email, setEmail] = useState(\"\");\n  const firebase = useContext(FirebaseContext);\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess ] = useState(null);\n   \n  const disabled = email === \"\";\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    firebase\n      .passwordReset(email) \n      .then(() => {\n        setError(null);\n        setSuccess(`Consulter votre email: ${email} pour changer votre mot de passe`);\n        setEmail(\"\");\n        setTimeout(()=>{\n            props.history.push(\"/login\");\n        }, 4000)\n        \n      })\n      .catch((error) => {\n        setError(error);\n        setEmail(\"\");\n        \n      });\n  };\n\n    return (\n        <div className=\"signUpLoginBox\">\n      <div className=\"slContainer\">\n        <div className=\"formBoxLeftForget\"></div>\n        <div className=\"formBoxRight\">\n          <div className=\"formContent\">\n            {success && <span style={{\n                border: \"1px solid green\",\n                background: \"green\",\n                color: \"#ffffff\",\n            }}>{success}</span>}\n            { error && <span>{error.message}</span>}\n            <h2>Mot de passe oublié?</h2>\n            <form onSubmit={handleSubmit}>\n              <div className=\"inputBox\">\n                <input\n                  onChange={(e) => setEmail(e.target.value)}\n                  value={email}\n                  type=\"email\"\n                  autoComplete=\"on\"\n                  required\n                />\n                <label htmlFor=\"email\">Email</label>\n              </div>\n              <button disabled={disabled}>Récupérer</button>\n              \n            </form>\n            <div className=\"linkContainer\">\n              <Link className=\"simpleLink\" to=\"/login\">\n                Déjà inscrit? Connectez-vous.\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    )\n}\n\nexport default ForgetPassword\n"]},"metadata":{},"sourceType":"module"}